<div class="saved-filter clearfix collapsed notExpanded">
    <div class="pull-left">
        <%=filter.get('name') %>
    </div>
    <div class="pull-right">
        <div class="collapsed-checkbox">
            <input id="<%= filter.get('_id') %>-checkbox" class="checkbox" type="checkbox" />
        </div>
    </div>
</div>
<div id="<%= filter.get('_id') %>-container" class="filter-operands-container clearfix">
        <table id="<%= filter.get('_id') %>-table" class="table table-condensed" style="margin-bottom: 0px;">
                <tr>
                    <td colspan="2">
                        Type:
                    </td>
                    <td colspan="2">
                        Value:
                    </td>
                </tr>

                <% var counter = 0; %>
                <% _.each(filter.get('operators'), function(operator) { %>

                <tr>
                <td>
                    <select id="<%= operator.id + '-' + filter.get('_id') + '-property' %>" class="wide-30 savedFilter">
                        <% _.each(features, function(feature) { %>
                        <option value="<%= feature.name %>" <% if (operator.property == feature.name) { %> selected <% } %>><%= feature.name %></option>
                        <% }); %>
                    </select>
                </td>
                <td>
                    <select id="<%= operator.id + '-' + filter.get('_id') + '-type' %>" class="wide-30 savedFilter">
                        <option value="<%= operator.type %>"><%= operator.type %></option>
                    </select>
                </td>
                <td> 
                    <input id="<%=operator.id + '-' + filter.get('_id') + '-lower' %>" type="text" class="wide-90 savedFilter" value="<%= operator.value ? operator.value : operator.lowerBoundary %>" />
                </td>
                <td> 
                    <input id="<%=operator.id + '-' + filter.get('_id') + '-upper' %>" type="text" class="wide-90 savedFilter" value="<%= operator.upperBoundary %>" />
                </td>
                <td>
                    <div class="plus-minus-container minus">
                        <img id="<%=operator.id + '-' + filter.get('_id')%>" src="../../img/minus.png" class="icon-small vertical-5 delete-row" />
                    </div>
                </td>
            </tr>

                <% counter++; %>
            <% }); %>
            <tr>
                <td>
                    <select id="<%= filter.get('_id') %>-newProperty" class="wide-30">
                        <% _.each(features, function(feature) { %>
                        <option value="<%= feature.name %>"<% if (tempOperator.property == feature.name) { %> selected <% } %>><%= feature.name %></option>
                        <% }); %>
                    </select>
                </td>
                <td>
                    <select id="<%= filter.get('_id') %>-newType" class="wide-30">
                            <option value="<%= tempOperator.type %>"><%= tempOperator.type %></option>
                    </select>
                </td>
                <td> 
                    <input id="<%= filter.get('_id') %>-newLower" type="text" class="wide-90" value="<%= tempOperator.value ? tempOperator.value : tempOperator.lowerBoundary %>"/>
                </td>
                <td> 
                    <input id="<%= filter.get('_id') %>-newUpper" type="text" class="wide-90" value="<%= tempOperator.upperBoundary %>"/>
                </td>
                <td>
                    <div id="<%= filter.get('_id') %>-addOperator" class="plus-minus-container">
                        <img src="../../img/plus.png" class="icon-small vertical-5 add-row" />
                    </div>
                </td>
            </tr>
        </table>
        <div class="pull-right padded">
            <button id="<%= filter.get('_id') %>-remove" class="btn btn-small btn-danger deleteFilter"> Remove </button>
            <button id="<%= filter.get('_id') %>-save" class="btn saveFilter"> Save </button>
        </div>
    </div>

